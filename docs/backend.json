{
  "entities": {
    "Contact": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Contact",
      "type": "object",
      "description": "Represents a contact form submission.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact submission."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the contact form."
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the person submitting the contact form."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the contact form.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "Message content from the contact form."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the contact form was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "phone",
        "email",
        "message",
        "submissionDate"
      ]
    },
    "Lead": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Lead",
      "type": "object",
      "description": "Represents a lead generated from service quote requests or pricing inquiries.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the lead."
        },
        "name": {
          "type": "string",
          "description": "Name of the lead."
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the lead."
        },
        "email": {
          "type": "string",
          "description": "Email address of the lead.",
          "format": "email"
        },
        "service": {
          "type": "string",
          "description": "Service requested by the lead."
        },
        "message": {
          "type": "string",
          "description": "Additional message from the lead."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the lead was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "phone",
        "email",
        "service",
        "message",
        "submissionDate"
      ]
    },
    "Testimonial": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Testimonial",
      "type": "object",
      "description": "Represents a client testimonial.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the testimonial."
        },
        "clientName": {
          "type": "string",
          "description": "Name of the client providing the testimonial."
        },
        "clientPhotoUrl": {
          "type": "string",
          "description": "URL of the client's photo.",
          "format": "uri"
        },
        "rating": {
          "type": "number",
          "description": "Rating given by the client (e.g., 1-5 stars)."
        },
        "message": {
          "type": "string",
          "description": "Text of the testimonial."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the testimonial was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "clientName",
        "clientPhotoUrl",
        "rating",
        "message",
        "submissionDate"
      ]
    },
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user account (e.g., for admin login).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "email": {
          "type": "string",
          "description": "Email address of the user (used for login).",
          "format": "email"
        },
        "displayName": {
          "type": "string",
          "description": "Display name of the user."
        },
        "creationDate": {
          "type": "string",
          "description": "Date and time when the user account was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "email",
        "displayName",
        "creationDate"
      ]
    },
    "Service": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Service",
      "type": "object",
      "description": "Represents a service offered by the business.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the service."
        },
        "icon": {
          "type": "string",
          "description": "Name of the Lucide icon for the service."
        },
        "title": {
          "type": "string",
          "description": "Title of the service."
        },
        "description": {
          "type": "string",
          "description": "Description of the service."
        }
      },
      "required": [
        "id",
        "icon",
        "title",
        "description"
      ]
    },
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a project in the portfolio.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the project."
        },
        "title": {
          "type": "string",
          "description": "Title of the project."
        },
        "description": {
          "type": "string",
          "description": "Description of the project."
        },
        "category": {
          "type": "string",
          "description": "Category of the project (e.g., Websites, Apps, Automation)."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the project's image.",
          "format": "uri"
        },
        "imageHint": {
            "type": "string",
            "description": "AI hint for the project image."
        }
      },
      "required": ["id", "title", "description", "category", "imageUrl", "imageHint"]
    },
    "PricingPlan": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "PricingPlan",
        "type": "object",
        "description": "Represents a pricing plan for a service.",
        "properties": {
            "id": { "type": "string", "description": "Unique identifier for the pricing plan." },
            "name": { "type": "string", "description": "Name of the pricing plan." },
            "price": { "type": "string", "description": "Price of the plan." },
            "description": { "type": "string", "description": "Description of the pricing plan." },
            "features": { "type": "array", "items": { "type": "string" }, "description": "List of features included in the plan." }
        },
        "required": ["id", "name", "price", "description", "features"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/contacts/{contactId}",
        "definition": {
          "entityName": "Contact",
          "schema": {
            "$ref": "#/backend/entities/Contact"
          },
          "description": "Stores contact form submissions. Anyone can create a contact.",
          "params": [
            {
              "name": "contactId",
              "description": "Unique identifier for the contact submission."
            }
          ]
        }
      },
      {
        "path": "/leads/{leadId}",
        "definition": {
          "entityName": "Lead",
          "schema": {
            "$ref": "#/backend/entities/Lead"
          },
          "description": "Stores service quote requests (leads). Anyone can create a lead.",
          "params": [
            {
              "name": "leadId",
              "description": "Unique identifier for the lead."
            }
          ]
        }
      },
      {
        "path": "/testimonials/{testimonialId}",
        "definition": {
          "entityName": "Testimonial",
          "schema": {
            "$ref": "#/backend/entities/Testimonial"
          },
          "description": "Stores client testimonials.",
          "params": [
            {
              "name": "testimonialId",
              "description": "Unique identifier for the testimonial."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user account information for optional admin login.",
          "params": [
            {
              "name": "userId",
              "description": "Unique identifier for the user."
            }
          ]
        }
      },
      {
        "path": "/services/{serviceId}",
        "definition": {
          "entityName": "Service",
          "schema": {
            "$ref": "#/backend/entities/Service"
          },
          "description": "Stores the services offered.",
          "params": [
            {
              "name": "serviceId",
              "description": "Unique identifier for the service."
            }
          ]
        }
      },
       {
        "path": "/projects/{projectId}",
        "definition": {
          "entityName": "Project",
          "schema": {
            "$ref": "#/backend/entities/Project"
          },
          "description": "Stores portfolio projects.",
          "params": [
            {
              "name": "projectId",
              "description": "Unique identifier for the project."
            }
          ]
        }
      },
      {
        "path": "/pricingPlans/{planId}",
        "definition": {
          "entityName": "PricingPlan",
          "schema": {
            "$ref": "#/backend/entities/PricingPlan"
          },
          "description": "Stores pricing plans.",
          "params": [
            {
              "name": "planId",
              "description": "Unique identifier for the pricing plan."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to store contact form submissions, service quote requests (leads), client testimonials, and user accounts for optional admin login. The structure prioritizes simplicity, security, and scalability.\n\nAuthorization Independence: Since there is no user-specific data or collaborative data, denormalization isn't required. All collections are treated as public-write, admin-read.\n\nStructural Segregation: Each data type (contacts, leads, testimonials, users) is stored in its own dedicated collection. This enforces a homogeneous security posture, simplifying rules.\n\nAccess Modeling: Contact, Lead, and Testimonial data is stored in collections without user ownership. This is suitable because the application proposal does not explicitly define data ownership use cases for these collections.\n\nData Clarity: Each entity has a well-defined schema with explicit fields, aiding in maintainability and predictability.\n\nQAPs: The design supports secure `list` operations because each collection is segregated by entity type, allowing security rules to be applied uniformly to each collection."
  }
}
